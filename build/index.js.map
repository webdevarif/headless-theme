{"version":3,"file":"index.js","mappings":"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","sources":["webpack://headless-theme/./src/templates/index.js","webpack://headless-theme/external window \"ReactJSXRuntime\"","webpack://headless-theme/external window [\"wp\",\"components\"]","webpack://headless-theme/external window [\"wp\",\"data\"]","webpack://headless-theme/external window [\"wp\",\"editor\"]","webpack://headless-theme/external window [\"wp\",\"element\"]","webpack://headless-theme/external window [\"wp\",\"i18n\"]","webpack://headless-theme/external window [\"wp\",\"plugins\"]","webpack://headless-theme/webpack/bootstrap","webpack://headless-theme/webpack/runtime/compat get default export","webpack://headless-theme/webpack/runtime/define property getters","webpack://headless-theme/webpack/runtime/hasOwnProperty shorthand","webpack://headless-theme/webpack/runtime/make namespace object","webpack://headless-theme/./src/index.js"],"sourcesContent":["//templates.js\r\n\r\nimport { registerPlugin } from \"@wordpress/plugins\";\r\nimport { PluginDocumentSettingPanel } from '@wordpress/editor';\r\nimport { TextControl, __experimentalHStack as HStack, __experimentalSpacer as Spacer, __experimentalText as Text, Button, Popover, __experimentalHeading as Heading,\r\n    SelectControl, Card, CardBody,\r\n    __experimentalVStack as VStack,\r\n} from \"@wordpress/components\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport { useState, useEffect } from \"@wordpress/element\";\r\nimport { select, useSelect, useDispatch } from '@wordpress/data';\r\n\r\nconst TemplateSidebarPanel = () => {\r\n    const [popoverAnchor, setPopoverAnchor] = useState();\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    const meta = useSelect((select) => select('core/editor').getEditedPostAttribute('meta'), []);\r\n    const { editPost } = useDispatch('core/editor');\r\n\r\n    // Ensure 'meta' is defined and prevent accessing properties of undefined\r\n    const includeOption = (meta && meta.template_display_option) || 'none';\r\n    const selectedPages = (meta && meta.template_selected_pages) || [];\r\n    const excludePages = (meta && meta.template_exclude_pages) || []; // New field for excluded pages\r\n    const templateType = (meta && meta.template_type) || '';  // Fetching template type\r\n\r\n    const toggleVisible = () => {\r\n        setIsVisible((state) => !state);\r\n    };\r\n\r\n    const pages = useSelect((select) => {\r\n        return select('core').getEntityRecords('postType', 'page') || [];\r\n    }, []);\r\n\r\n    const postType = select('core/editor').getCurrentPostType();\r\n\r\n    const displayText = includeOption === 'entire_site'\r\n        ? __('Entire Site')\r\n        : includeOption === 'specific_pages' && selectedPages.length > 0\r\n        ? __('Specific Pages')\r\n        : __('Not Selected');\r\n\r\n    if (postType !== 'headless_templates') {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <PluginDocumentSettingPanel\r\n            name=\"headless-templates-sidepanel\"\r\n            title={__(\"Template Settings\")}\r\n            className=\"headless-templates-sidepanel\"\r\n        >\r\n            <VStack>\r\n                <HStack>\r\n                    <Text style={{ width: '30%', fontSize: '10px', fontWeight: 500 }}>{__(\"DISPLAY ON\")}</Text>\r\n                    <Text style={{ width: '70%', padding: '6px 0' }}>\r\n                        <Button variant=\"tertiary\" onClick={toggleVisible}>\r\n                            {displayText}\r\n                        </Button>\r\n                    </Text>\r\n                </HStack>\r\n                \r\n                {isVisible && (\r\n                    <Popover\r\n                        anchor={popoverAnchor}\r\n                        onFocusOutside={() => setIsVisible(false)}\r\n                        placement='right-start'\r\n                    >\r\n                        <Card style={{ width: '16rem' }}>\r\n                            <CardBody style={{ padding: '1rem' }}>\r\n                                <HStack style={{ marginBottom: '1rem' }}>\r\n                                    <Heading size=\"12\">Display On</Heading>\r\n                                    <Button\r\n                                        icon=\"no-alt\"\r\n                                        label={__('Close')}\r\n                                        onClick={() => setIsVisible(false)}\r\n                                        className=\"block-editor-inspector-popover-header__action\"\r\n                                        style={{\r\n                                            boxShadow: 'none'\r\n                                        }}\r\n                                    />\r\n                                </HStack>\r\n\r\n                                <SelectControl\r\n                                    label={__(\"Include\")}\r\n                                    value={includeOption}\r\n                                    options={[\r\n                                        { value: '', label: __('Select One') },\r\n                                        { value: 'entire_site', label: __('Entire Site') },\r\n                                        { value: 'specific_pages', label: __('Specific Pages') }\r\n                                    ]}\r\n                                    onChange={(value) => editPost({ meta: { ...meta, template_display_option: value } })}\r\n                                />\r\n\r\n                                {includeOption === 'specific_pages' && (\r\n                                    <div>\r\n                                        <label>{__(\"Select Pages\")}</label>\r\n                                        <select\r\n                                            multiple\r\n                                            value={selectedPages}\r\n                                            onChange={(e) => {\r\n                                                const selectedOptions = Array.from(e.target.selectedOptions).map(option => option.value);\r\n                                                editPost({ meta: { ...meta, template_selected_pages: selectedOptions } });\r\n                                            }}\r\n                                            style={{\r\n                                                width: '100%',\r\n                                                height: '5em',\r\n                                                fontSize: '13px',\r\n                                                padding: '5px'\r\n                                            }}\r\n                                        >\r\n                                            {pages.map(page => (\r\n                                                <option key={page.id} value={page.id}>{page.title.rendered}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                )}\r\n                                \r\n                                {includeOption === 'entire_site' && (\r\n                                    <div>\r\n                                        <label>{__(\"Exclude Pages\")}</label>\r\n                                        <select\r\n                                            multiple\r\n                                            value={excludePages}\r\n                                            onChange={(e) => {\r\n                                                const selectedOptions = Array.from(e.target.selectedOptions).map(option => option.value);\r\n                                                editPost({ meta: { ...meta, template_exclude_pages: selectedOptions } });\r\n                                            }}\r\n                                            style={{\r\n                                                width: '100%',\r\n                                                height: '5em',\r\n                                                fontSize: '13px',\r\n                                                padding: '5px'\r\n                                            }}\r\n                                        >\r\n                                            {pages.map(page => (\r\n                                                <option key={page.id} value={page.id}>{page.title.rendered}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                )}\r\n                            </CardBody>\r\n                        </Card>\r\n                    </Popover>\r\n                )}\r\n            </VStack>\r\n            <SelectControl\r\n                label={__(\"Type\")}\r\n                value={templateType}\r\n                options={[\r\n                    { value: '', label: __('Select One') },\r\n                    { value: 'header', label: __('Header') },\r\n                    { value: 'footer', label: __('Footer') }\r\n                ]}\r\n                onChange={(value) => editPost({ meta: { ...meta, template_type: value } })} // Save the type in post meta\r\n            />\r\n        </PluginDocumentSettingPanel>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nregisterPlugin(\"headless-templates-sidepanel\", { render: TemplateSidebarPanel });\r\n","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./templates\";\r\n\r\n// Blocks\r\n// import \"./blocks/header\";"],"names":["registerPlugin","PluginDocumentSettingPanel","TextControl","__experimentalHStack","HStack","__experimentalSpacer","Spacer","__experimentalText","Text","Button","Popover","__experimentalHeading","Heading","SelectControl","Card","CardBody","__experimentalVStack","VStack","__","useState","useEffect","select","useSelect","useDispatch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TemplateSidebarPanel","popoverAnchor","setPopoverAnchor","isVisible","setIsVisible","meta","getEditedPostAttribute","editPost","includeOption","template_display_option","selectedPages","template_selected_pages","excludePages","template_exclude_pages","templateType","template_type","toggleVisible","state","pages","getEntityRecords","postType","getCurrentPostType","displayText","length","children","name","title","className","style","width","fontSize","fontWeight","padding","variant","onClick","anchor","onFocusOutside","placement","marginBottom","size","icon","label","boxShadow","value","options","onChange","multiple","e","selectedOptions","Array","from","target","map","option","height","page","id","rendered","render"],"sourceRoot":""}